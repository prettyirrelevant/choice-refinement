{"version":3,"sources":["constants.js","statics/OverlayElectionModal.js"],"names":["URL","ASSET_ID","OverlayElectionModal","dispatch","useDispatch","walletAddress","localStorage","getItem","useSelector","state","status","electModal","openElectModal","modalData","className","style","display","src","process_image","alt","title","description","candidates","map","item","image","fontSize","name","onClick","headers","axios","post","slug","then","response","alert","data","message","catch","err","console","log","type"],"mappings":"8HAAA,wEAAMA,EAAM,wCAENC,EAAW,U,iCCFjB,sDAkGeC,UA9Fc,WAAO,IAAD,EAC3BC,EAAWC,cAEXC,EAAgBC,aAAaC,QAAQ,WAHV,EAKKC,aACpC,SAACC,GAAD,OAAWA,EAAMC,OAAOC,cADlBC,EALyB,EAKzBA,eAAgBC,EALS,EAKTA,UAgCxB,OACEA,GACE,sBACEC,UAAU,YACVC,MAAO,CAAEC,QAAQ,GAAD,OAAOJ,EAAiB,OAAS,SAFnD,UAIE,sBAAKE,UAAU,aAAf,UACE,sBAAKA,UAAU,WAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,qBAAKG,IAAKJ,EAAUK,cAAeC,IAAI,OAEzC,qBAAKL,UAAU,gBAAf,SAAgCD,EAAUO,WAG5C,qBAAKN,UAAU,iBAAf,SAAiCD,EAAUQ,cAI3C,sBAAKP,UAAU,aAAf,UACE,qBAAKA,UAAU,gBAAf,wBAEA,oBAAIA,UAAU,kBAAd,mBACGD,EAAUS,kBADb,aACG,EAAsBC,KAAI,SAACC,GAAD,OACzB,qBAAIV,UAAU,YAAd,UACE,qBAAKA,UAAU,gBAAf,SACKU,EAAKC,MACN,qBAAKR,IAAKO,EAAKC,MAAON,IAAI,KAE1B,mBACEL,UAAU,mBACVC,MAAO,CAAEW,SAAU,YAIzB,mBAAGZ,UAAU,WAAb,SAAyBU,EAAKG,eAKpC,sBAAKb,UAAU,cAAf,UACE,wBAAQc,QApEE,WACpB,IAAMC,EAAU,CACd,mBAAoBxB,GAGtByB,IACGC,KADH,UACW/B,IADX,sBAC4Ba,EAAUmB,KADtC,UACoD,KAAM,CAAEH,YACzDI,MAAK,SAACC,GAAD,OAAcC,MAAMD,EAASE,KAAKC,YACvCC,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZJ,MAAM,gDA0DA,4BACA,wBAAQP,QAvDA,WAClB,IAAMC,EAAU,CACd,mBAAoBxB,GAGtByB,IACGC,KADH,UACW/B,IADX,sBAC4Ba,EAAUmB,KADtC,QACkD,KAAM,CAAEH,YACvDI,MAAK,SAACC,GAAD,OAAcC,MAAMD,EAASE,KAAKC,YACvCC,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZJ,MAAM,8CA6CA,mCAKN,qBACErB,UAAU,cACVc,QAAS,kBAAMzB,EAAS,CAAEuC,KAAM,wBAFlC","file":"static/js/9.f8a0815d.chunk.js","sourcesContent":["const URL = \"https://choice-coin-api.herokuapp.com\";\n// const URL = \"http://localhost:5000\";\nconst ASSET_ID = 21364625;\n\nexport { URL, ASSET_ID };\n","import { useSelector, useDispatch } from \"react-redux\";\nimport { URL } from \"../constants\";\nimport axios from \"axios\";\n\nconst OverlayElectionModal = () => {\n  const dispatch = useDispatch();\n\n  const walletAddress = localStorage.getItem(\"address\");\n\n  const { openElectModal, modalData } = useSelector(\n    (state) => state.status.electModal\n  );\n\n  const startElection = () => {\n    const headers = {\n      \"X-Wallet-Address\": walletAddress,\n    };\n\n    axios\n      .post(`${URL}/elections/${modalData.slug}/start`, null, { headers })\n      .then((response) => alert(response.data.message))\n      .catch((err) => {\n        console.log(err);\n        alert(\"An error occured while starting election\");\n      });\n  };\n\n  const endElection = () => {\n    const headers = {\n      \"X-Wallet-Address\": walletAddress,\n    };\n\n    axios\n      .post(`${URL}/elections/${modalData.slug}/end`, null, { headers })\n      .then((response) => alert(response.data.message))\n      .catch((err) => {\n        console.log(err);\n        alert(\"An error occured while ending election\");\n      });\n  };\n\n  return (\n    modalData && (\n      <div\n        className=\"modal_cov\"\n        style={{ display: `${!!openElectModal ? \"flex\" : \"none\"}` }}\n      >\n        <div className=\"modal_cont\">\n          <div className=\"modal_r1\">\n            <div className=\"modal_elt_img\">\n              <img src={modalData.process_image} alt=\"\" />\n            </div>\n            <div className=\"modal_elt_tit\">{modalData.title}</div>\n          </div>\n\n          <div className=\"modal_elt_desc\">{modalData.description}</div>\n\n          {/*  */}\n\n          <div className=\"modal_cand\">\n            <div className=\"modal_cand_hd\">Candidates</div>\n\n            <ul className=\"modal_cand_list\">\n              {modalData.candidates?.map((item) => (\n                <li className=\"cand_item\">\n                  <div className=\"cand_img_cont\">\n                    {!!item.image ? (\n                      <img src={item.image} alt=\"\" />\n                    ) : (\n                      <i\n                        className=\"uil uil-asterisk\"\n                        style={{ fontSize: \"16px\" }}\n                      ></i>\n                    )}\n                  </div>\n                  <p className=\"cand_det\">{item.name}</p>\n                </li>\n              ))}\n            </ul>\n\n            <div className=\"modal_butts\">\n              <button onClick={startElection}>Start Election</button>\n              <button onClick={endElection}>End Election</button>\n            </div>\n          </div>\n        </div>\n\n        <div\n          className=\"close_modal\"\n          onClick={() => dispatch({ type: \"closePopupElection\" })}\n        >\n          Go Back\n        </div>\n      </div>\n    )\n  );\n};\n\nexport default OverlayElectionModal;\n"],"sourceRoot":""}